<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction - Synopsis 14 documentation</title>
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '14',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="Synopsis 14 documentation" href="../index.html" />
    <link rel="up" title="Tutorial" href="index.html" />
    <link rel="next" title="Using the synopsis tool" href="usage.html" />
    <link rel="prev" title="Tutorial" href="index.html" /> 
  </head>
  <body>
    <div class="navigation">
      <a class="logo" href="../index.html">Synopsis</a>
      
      <div class="menu">
       
       <ul>
	 <li><a title="index" href="../genindex.html" />Index</a></li>
       </ul>
      </div>
    </div>
    <div class="header">
      <div id="searchbox" style="display: none">
        <form class="search" action="../search.html" method="get">
          <input type="text" name="q" size="18" />
          <input type="submit" value="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
      </div>
      <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    <div class="content">
      
  <div class="section" id="introduction">
<h1>Introduction</h1>
<p>Synopsis is a source code introspection tool. It provides parsers for a variety of programming languages (C, C++, Python, IDL), and generates internal representations of varying granularity. The only stable representation, which is currently used among others to generate documentation, is an Abstract Semantic Graph.</p>
<p>This tutorial is focussed on the ASG and the concepts around it. Other representations are presently being worked on, notably in relation to the C++ parser. To learn more about those (Parse Tree, Symbol Table, etc.) see the Developer’s Guide.</p>
<div class="section" id="inspecting-code">
<h2>Inspecting code</h2>
</div>
<div class="section" id="internal-representation">
<h2>Internal representation</h2>
<p>Synopsis parses source code into a variety of internal representations (IRs), which then are manipulated in various ways, before some output (such as a cross-referenced API documentation) is generated by an appropriate formatter.</p>
<p>At the core of Synopsis are a set of programming-language independent IRs which all parser frontends generate. One of these representations is the Abstract Semantic Graph, which stores declarations and their relationships. Another is the SXR Symbol Table, which stores information about symbols and their use in the source code. Other representations exist (such as the C++ Parse Tree), but they are not yet stored in a publicly accessible form.</p>
<img alt="../_images/ir.png" src="../_images/ir.png" />
<p>For details about the ASG, see the section called “The ASG”</p>
<p>At this time, the C++ frontend’s IRs (PTree, SymbolTable, etc.) are not yet accessible through python, though they eventually will be, making it possible to use Synopsis as a source-to-source compiler. To learn more about the evolving C &amp; C++ parser and its IRs, see the Developer’s Guide.</p>
</div>
<div class="section" id="documenting-source-code">
<h2>Documenting Source-Code</h2>
<p>Being read and understood is at least as important for source code as it is for it to be processed by a computer. Humans have to maintain the code, i.e. fix bugs, add features, etc.</p>
<p>Therefor, typically, code is annotated in some form in that adds explanation if it isn’t self-explanatory. While comments are often used to simply disable the execution of a particular chunk of code, some comments are specifically addressed at readers to explain what the surrounding code does. While some languages (e.g. Python) have built-in support for <cite>doc-strings</cite>, in other languages ordinary comments are used.</p>
<p>Typically, comments are marked up in a specific way to discriminate documentation from ordinary comments. Further the content of such comments may contain markup for a particular formatting (say, embedded HTML).</p>
<p>C++ may contain a mix of comments, some representing documentation:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="c1">//! A friendly function.</span>
<span class="kt">void</span> <span class="nf">greet</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// FIXME: Use gettext for i18n</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;hello world !&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In Synopsis all declarations may be annotated. C and C++ parsers, for example, will store comments preceding a given declaration in that declaration’s annotations dictionary under the key comments. Later these comments may be translated into documentation (stored under the key doc), which may be formatted once the final document is generated.</p>
<p>Translating comments into doc-strings involves the removal of comment markers (such as the //! above), as well as the handling of processing instructions that may be embedded in comments, too.</p>
<p>For languages such as Python such a translation isn’t necessary, as the language has built-in support for documentation, and thus the parser itself can generate the ‘doc’ annotations.</p>
<p>Python has support for documentation built into the language:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">greet</span><span class="p">():</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;The greet function prints out a famous message.&quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s1">&#39;hello world !&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">greet</span><span class="p">)</span>


<span class="go">Help on function greet in module __main__:</span>

<span class="go">greet()</span>
<span class="go">    The greet function prints out a famous message.</span>
</pre></div>
</div>
</div>
<div class="section" id="the-synopsis-processing-pipeline">
<h2>The Synopsis Processing Pipeline</h2>
<p>Synopsis provides a large number of processor types that all generate or operate on data extracted from source code. Parsers parse source code from a variety of languages, linkers combine multiple IRs, resolving cross-references between symbols, and formatters format the ASG into a variety of output media.</p>
<img alt="../_images/cross-reference.png" src="../_images/cross-reference.png" />
<p>A typical processing-pipeline to generate API Documentation with source-code cross-references.</p>
<p>All these Processor types share a common design, to make it easy to combine them into pipelines, and add custom processors. For more documentation about this architecture, see the section called “Composing A Pipeline”.</p>
</div>
</div>


    </div>
  </body>
</html>